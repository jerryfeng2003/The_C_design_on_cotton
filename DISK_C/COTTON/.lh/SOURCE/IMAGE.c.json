{
    "sourceFile": "SOURCE/IMAGE.c",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1681530165346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1681530656081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n /***********************\r\n \r\n-��ͼ��ת�������������Ҫ�������ͼƬ�ֱ�����640*480֮��\r\n-����VGAHI���˸��?\r\n-����������Q�ң�1105674202 \r\n+锟斤拷图锟斤拷转锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷锟揭拷锟斤拷锟斤拷锟斤拷图片锟街憋拷锟斤拷锟斤拷640*480之锟斤拷\r\n+锟斤拷锟斤拷VGAHI锟斤拷锟剿革拷妫?\r\n+锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷Q锟揭ｏ拷1105674202 \r\n \r\n ***********************/\r\n #include <stdio.h>\r\n #include <dos.h>\r\n@@ -11,12 +11,12 @@\n #include <graphics.h>\r\n #include <conio.h>\r\n \r\n \r\n-int bmp_convert(char *bmp,char *dbm)\t//�� *.bmp ��Ϊ *.dbm,�ַ���bmp��Ϊbmp���ڵ�ַ����dbmpΪ������?\r\n+int bmp_convert(char *bmp,char *dbm)\t//锟斤拷 *.bmp 锟斤拷为 *.dbm,锟街凤拷锟斤拷bmp锟斤拷为bmp锟斤拷锟节碉拷址锟斤拷锟斤拷dbmp为锟斤拷锟斤拷锟街?\r\n {\r\n-//\tstatic int color[16]={0,4,2,6,1,5,3,7,8,12,10,14,9,13,11,15}; ��win��ps \r\n-\tstatic int color[16]={0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};//������bc����ɫ��Ŷ�Ӧת����������win��ͼת����\r\n+//\tstatic int color[16]={0,4,2,6,1,5,3,7,8,12,10,14,9,13,11,15}; 锟斤拷win锟斤拷ps \r\n+\tstatic int color[16]={0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};//锟斤拷锟斤拷锟斤拷bc锟斤拷锟斤拷色锟斤拷哦锟接ψ拷锟斤拷锟斤拷锟斤拷锟斤拷锟絯in锟斤拷图转锟斤拷锟斤拷\r\n \tunsigned char dbmline[640],bmpline[640],pixel[8],Vbyte;\r\n \tint ImageW,ImageH,i,j,k,n,now,bmpcom,gg ;\r\n \tlong hangsize;\r\n \tFILE *fbmp,*fdbm;\r\n@@ -24,17 +24,17 @@\n \t\tunsigned char val;\r\n \t\tstruct {\r\n \t\t\tunsigned cl:4;\r\n \t\t\tunsigned ch:4;\r\n-\t\t}color;\t//��λ�򴢴���ɫ��Ϣ���ֲ���ɫ��Ϣ \r\n+\t\t}color;\t//锟斤拷位锟津储达拷锟斤拷色锟斤拷息锟斤拷锟街诧拷锟斤拷色锟斤拷息 \r\n \t}MyColor;\r\n \tif((fbmp=fopen(bmp,\"rb\"))==NULL)\r\n \t{\r\n \t\tprintf(\"%s\\n\",bmp);\r\n \t\tprintf(\"Open bmp error!\");\r\n \t\treturn 1;\r\n \t}\r\n-\tfseek(fbmp,18,SEEK_SET);\t//bmpͼ��Ŀ������ļ��?18�ֽں�\r\n+\tfseek(fbmp,18,SEEK_SET);\t//bmp图锟斤拷目锟斤拷锟斤拷锟斤拷募锟酵?18锟街节猴拷\r\n \tfread(&gg,4,1,fbmp);\r\n    //\tfread(&ImageW,4,1,fbmp);\r\n \tfread(&ImageH,4,1,fbmp);\r\n \tImageW=gg;\r\n@@ -51,19 +51,19 @@\n \t{\r\n \t\tprintf(\"Creat \\\"%s\\\" error!\",dbm);\r\n \t\treturn 1;\r\n \t}\r\n-\tbmpcom=(ImageW-1)/8+1;\t//�д�����Ԫ��\r\n-\thangsize=bmpcom*4;\t//ÿ���ֽ�����DIB����Ҫ��ÿ���ֽ�Ϊ4���������Ѽ��㲹�㣩\r\n+\tbmpcom=(ImageW-1)/8+1;\t//锟叫达拷锟斤拷锟斤拷元锟斤拷\r\n+\thangsize=bmpcom*4;\t//每锟斤拷锟街斤拷锟斤拷锟斤拷DIB锟斤拷锟斤拷要锟斤拷每锟斤拷锟街斤拷为4锟斤拷锟斤拷锟斤拷锟斤拷锟窖硷拷锟姐补锟姐）\r\n \tfwrite(&ImageW,sizeof(int),1,fdbm);\r\n \tfwrite(&ImageH,sizeof(int),1,fdbm);\r\n \tfseek(fbmp,-hangsize,SEEK_END);\r\n \tfor(i=0;i<ImageH;i++)\r\n \t{\r\n \t\tnow=0;\r\n \t\tfread(bmpline,hangsize,1,fbmp);\r\n \t\tfseek(fbmp,-hangsize*2,SEEK_CUR);\r\n-\t\tfor(n=3;n>=0;n--)\t//ÿ�в���ĸ�λ����������?\r\n+\t\tfor(n=3;n>=0;n--)\t//每锟叫诧拷锟斤拷母锟轿伙拷锟斤拷锟斤拷锟斤拷锟斤拷锟?\r\n \t  // for(n=0;n<=3;n++)\r\n \t\t{\r\n \t\t\tfor(j=0;j<bmpcom;j++)\r\n \t\t\t{\r\n@@ -87,9 +87,9 @@\n \tfclose(fbmp);\r\n \treturn 0;\r\n }\r\n \r\n-int show_dbm(int x,int y,char *dbm)\t//����dbmp��·��,��(x,y)���ͼ�?(x��Ϊ8�ı���)\r\n+int show_dbm(int x,int y,char *dbm)\t//锟斤拷锟斤拷dbmp锟斤拷路锟斤拷,锟斤拷(x,y)锟斤拷锟酵计?(x锟斤拷为8锟侥憋拷锟斤拷)\r\n {\t\t\t\t\t\r\n \tint ImageW,ImageH,n,i,j;\r\n \tlong hangsize;\r\n \tFILE * fdbm;\r\n@@ -97,9 +97,9 @@\n \t\r\n \tper=(char far *)0xA0000000L;\r\n \r\n \t\r\n-//\t_VideoBusy=YES;\t\t\t//hanenvϵͳ�ڵ���ʾ�Ĵ����������� \r\n+//\t_VideoBusy=YES;\t\t\t//hanenv系统锟节碉拷锟斤拷示锟侥达拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷 \r\n \t\r\n \tif((fdbm=fopen(dbm,\"rb\"))==NULL)\r\n \t{\r\n \t\tprintf(\"%s\",dbm);\r\n@@ -114,9 +114,9 @@\n \tper=per+x/8+y*80;\r\n \tif((ImageH+y)>480)\tImageH=480-y; \t//VGAHI  640*480 \r\n \tfor(i=0;i<ImageH;i++)\r\n \t{\r\n-\t\tfor(n=8;n>=1;n>>=1)\t//�ӵ���λ��ɫƽ��д����0\r\n+\t\tfor(n=8;n>=1;n>>=1)\t//锟接碉拷锟斤拷位锟斤拷色平锟斤拷写锟斤拷锟斤拷0\r\n \t\t{\r\n \t\t\toutportb(0x3c4,2);\r\n \t\t\toutportb(0x3c5,n);\r\n \t\t\tfread(per,hangsize,1,fdbm);\r\n@@ -132,9 +132,9 @@\n \toutportb(0x3c5,0xf);\r\n \treturn 0;\r\n }\r\n \r\n-void cir_bar(int x1,int y1,int x2,int y2,int color)\t//��ָ��λ�û���һ��Բ�Ǿ��ο� \r\n+void cir_bar(int x1,int y1,int x2,int y2,int color)\t//锟斤拷指锟斤拷位锟矫伙拷锟斤拷一锟斤拷圆锟角撅拷锟轿匡拷 \r\n {\r\n \tint w=x2-x1,h=y2-y1;\r\n \tsetcolor(color);\r\n     setlinestyle(SOLID_LINE,0,THICK_WIDTH);\r\n@@ -147,9 +147,9 @@\n     ellipse(w-5+x1+1,10+h-20+y1,270,360,5,10);\r\n     line(5+x1,h+y1,5+w-10+x1,h+y1);\r\n }\r\n \r\n-void movetopage(int x1, int y1, int x2, int y2,int page1 )\t//��ʾҳ��ֲ�ͼ�����ݴ��䣬�������Ͻ����꼰���Ͻ����꣬��page1�ƶ���page2\r\n+void movetopage(int x1, int y1, int x2, int y2,int page1 )\t//锟斤拷示页锟斤拷植锟酵硷拷锟斤拷锟斤拷荽锟斤拷洌拷锟斤拷锟斤拷锟斤拷辖锟斤拷锟斤拷昙帮拷锟斤拷辖锟斤拷锟斤拷辏拷锟絧age1锟狡讹拷锟斤拷page2\r\n {\t\r\n \tint per1, per2;\r\n \tint hangsize = (x2 - x1) / 8;\r\n \tint high = y2 - y1 + 1;\r\n@@ -168,15 +168,15 @@\n \t\r\n \r\n \tper1 = per1 + (x1) / 8 + (y1 ) * 80;\r\n \tper2 = per2 + (x1) / 8 + (y1 ) * 80;\r\n-\tfor (i = 0; i <high; i++)\t\t//������Ƶͼ�� \r\n+\tfor (i = 0; i <high; i++)\t\t//锟斤拷锟斤拷锟斤拷频图锟斤拷 \r\n \t{\r\n-\t\tfor (p1 = 8, p2 = 3; p1 >= 1; p1 >>= 1, p2--)\t//�ӵ���λ��ɫƽ��д����0\r\n+\t\tfor (p1 = 8, p2 = 3; p1 >= 1; p1 >>= 1, p2--)\t//锟接碉拷锟斤拷位锟斤拷色平锟斤拷写锟斤拷锟斤拷0\r\n \t\t{\r\n-\t\t\toutportb(0x3c4, 2);\t\t//��ɫλ��д�Ĵ��� \r\n+\t\t\toutportb(0x3c4, 2);\t\t//锟斤拷色位锟斤拷写锟侥达拷锟斤拷 \r\n \t\t\toutportb(0x3c5, p1);\r\n-\t\t\toutportb(0x3ce, 4);\t\t//��ɫλ����Ĵ���? \r\n+\t\t\toutportb(0x3ce, 4);\t\t//锟斤拷色位锟斤拷锟斤拷拇锟斤拷锟? \r\n \t\t\toutportb(0x3cf, p2);\r\n \t\t\tif (page1 == 0)\r\n \t\t\t{\r\n \t\t\t\tquick_move_2(per2, per1, hangsize);\r\n@@ -188,43 +188,43 @@\n \t\t}\r\n \t\tper1 += 80;\r\n \t\tper2 += 80;\r\n \t}\r\n-\toutportb(0x3cf,0);\t\t//�ָ����� \r\n+\toutportb(0x3cf,0);\t\t//锟街革拷锟斤拷锟斤拷 \r\n \toutportb(0x3c5,0xf);\r\n }\r\n \r\n-void set_color(int color_no,int red,int green,int blue)\t//ָ����ɫ��ţ��޸����Ӧ��rgbֵ \r\n+void set_color(int color_no,int red,int green,int blue)\t//指锟斤拷锟斤拷色锟斤拷牛锟斤拷薷锟斤拷锟斤拷应锟斤拷rgb值 \r\n {\r\n \tif(color_no<16)\r\n \t{\r\n-\t\t_AX=0x1007;\t//ѡ��10H��ʾ�ж��еĵ�7�Ź���\r\n+\t\t_AX=0x1007;\t//选锟斤拷10H锟斤拷示锟叫讹拷锟叫的碉拷7锟脚癸拷锟斤拷\r\n \t\t_BL=color_no;\r\n \t\tgeninterrupt(0x10);\r\n \t\tcolor_no=_BH; \r\n \t}\r\n \telse\r\n-\t\tcolor_no = 0xff;\t//����Ļ��Եɫָ���ɫ��?255 \r\n+\t\tcolor_no = 0xff;\t//锟斤拷锟斤拷幕锟斤拷缘色指锟斤拷锟缴拷锟?255 \r\n \t\t\r\n-\t//�޸ĵ�ɫ��Ĵ���? \r\n+\t//锟睫改碉拷色锟斤拷拇锟斤拷锟? \r\n \t_DH=red;\r\n \t_CH=green;\r\n \t_CL=blue;\r\n \t_BX=color_no;\r\n \t_AX=0x1010;\r\n \tgeninterrupt(0x10);\r\n \t\r\n-\t//������Ļ��Ե��ɫ\r\n+\t//锟斤拷锟斤拷锟斤拷幕锟斤拷缘锟斤拷色\r\n \tif(color_no==0xff)\r\n \t{\r\n \t\t_BH=0xff;\r\n \t\t_AX=0x1001;\r\n \t\tgeninterrupt(0x10);\r\n \t} \r\n }\r\n \r\n-/*��Ϊ�û���д��֧�ֿ��Ѱַ�����ݴ��亯�������ԡ�VGAҳ��ͼ�������ƶ�������������ʾЧ���е�Ӧ�á�һ��*/\r\n-int quick_move_1(int Start,int End,int Size)\t//StartΪԭ���׵�ַ��EndΪĿ��λ���׵�ַ \t(1 to 0)\r\n+/*锟斤拷为锟矫伙拷锟斤拷写锟斤拷支锟街匡拷锟窖爸凤拷锟斤拷锟斤拷荽锟斤拷浜拷锟斤拷锟斤拷锟斤拷浴锟絍GA页锟斤拷图锟斤拷锟斤拷锟斤拷锟狡讹拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷示效锟斤拷锟叫碉拷应锟矫★拷一锟斤拷*/\r\n+int quick_move_1(int Start,int End,int Size)\t//Start为原锟斤拷锟阶碉拷址锟斤拷End为目锟斤拷位锟斤拷锟阶碉拷址 \t(1 to 0)\r\n {\r\n \tasm{\r\n \t\tpush es\r\n \t\tpush ds\r\n@@ -253,9 +253,9 @@\n \t}\r\n \treturn 0;\r\n }\r\n \r\n-int quick_move_2(int Start,int End,int Size)\t//StartΪԭ���׵�ַ��EndΪĿ��λ���׵�ַ \t(0 to 1)\r\n+int quick_move_2(int Start,int End,int Size)\t//Start为原锟斤拷锟阶碉拷址锟斤拷End为目锟斤拷位锟斤拷锟阶碉拷址 \t(0 to 1)\r\n {\r\n \tasm{\r\n \t\tpush es\r\n \t\tpush ds\r\n@@ -284,17 +284,17 @@\n \t}\r\n \treturn 0;\r\n }\r\n \r\n-void close_display()\t//�ر���Ļ��ʾ\r\n+void close_display()\t//锟截憋拷锟斤拷幕锟斤拷示\r\n {\r\n \t_BL=0x32;\r\n \t_AH=0x12;\r\n \t_AL=0x01;\r\n \tgeninterrupt(0x10);\r\n }\r\n \r\n-void open_display()\t\t//����Ļ��ʾ\r\n+void open_display()\t\t//锟斤拷锟斤拷幕锟斤拷示\r\n {\r\n \t_BL=0x32;\r\n \t_AH=0x12;\r\n \t_AL=0x00;\r\n"
                }
            ],
            "date": 1681530165346,
            "name": "Commit-0",
            "content": "/***********************\r\n\r\n锟斤拷图锟斤拷转锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷锟揭拷锟斤拷锟斤拷锟斤拷图片锟街憋拷锟斤拷锟斤拷640*480之锟斤拷\r\n锟斤拷锟斤拷VGAHI锟斤拷锟剿革拷妫?\r\n锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷Q锟揭ｏ拷1105674202 \r\n\r\n***********************/\r\n#include <stdio.h>\r\n#include <dos.h>\r\n#include \"image.h\"\r\n#include <graphics.h>\r\n#include <conio.h>\r\n\r\n\r\nint bmp_convert(char *bmp,char *dbm)\t//锟斤拷 *.bmp 锟斤拷为 *.dbm,锟街凤拷锟斤拷bmp锟斤拷为bmp锟斤拷锟节碉拷址锟斤拷锟斤拷dbmp为锟斤拷锟斤拷锟街?\r\n{\r\n//\tstatic int color[16]={0,4,2,6,1,5,3,7,8,12,10,14,9,13,11,15}; 锟斤拷win锟斤拷ps \r\n\tstatic int color[16]={0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};//锟斤拷锟斤拷锟斤拷bc锟斤拷锟斤拷色锟斤拷哦锟接ψ拷锟斤拷锟斤拷锟斤拷锟斤拷锟絯in锟斤拷图转锟斤拷锟斤拷\r\n\tunsigned char dbmline[640],bmpline[640],pixel[8],Vbyte;\r\n\tint ImageW,ImageH,i,j,k,n,now,bmpcom,gg ;\r\n\tlong hangsize;\r\n\tFILE *fbmp,*fdbm;\r\n\tunion {\r\n\t\tunsigned char val;\r\n\t\tstruct {\r\n\t\t\tunsigned cl:4;\r\n\t\t\tunsigned ch:4;\r\n\t\t}color;\t//锟斤拷位锟津储达拷锟斤拷色锟斤拷息锟斤拷锟街诧拷锟斤拷色锟斤拷息 \r\n\t}MyColor;\r\n\tif((fbmp=fopen(bmp,\"rb\"))==NULL)\r\n\t{\r\n\t\tprintf(\"%s\\n\",bmp);\r\n\t\tprintf(\"Open bmp error!\");\r\n\t\treturn 1;\r\n\t}\r\n\tfseek(fbmp,18,SEEK_SET);\t//bmp图锟斤拷目锟斤拷锟斤拷锟斤拷募锟酵?18锟街节猴拷\r\n\tfread(&gg,4,1,fbmp);\r\n   //\tfread(&ImageW,4,1,fbmp);\r\n\tfread(&ImageH,4,1,fbmp);\r\n\tImageW=gg;\r\n //\tImageH*=2;\r\n  //\tprintf(\"%d \",ImageW);\r\n  //\tprintf(\"%d\",ImageH);\r\n\tif(ImageW==0||ImageH==0||ImageW>640||ImageH>480)\r\n\t{\r\n\t\tprintf(\"The image is too large!Please input image below 640*480.\");\r\n\t\tfclose(fbmp);\r\n\t\treturn 1;\r\n\t}\r\n\tif((fdbm=fopen(dbm,\"wb\"))==NULL)\r\n\t{\r\n\t\tprintf(\"Creat \\\"%s\\\" error!\",dbm);\r\n\t\treturn 1;\r\n\t}\r\n\tbmpcom=(ImageW-1)/8+1;\t//锟叫达拷锟斤拷锟斤拷元锟斤拷\r\n\thangsize=bmpcom*4;\t//每锟斤拷锟街斤拷锟斤拷锟斤拷DIB锟斤拷锟斤拷要锟斤拷每锟斤拷锟街斤拷为4锟斤拷锟斤拷锟斤拷锟斤拷锟窖硷拷锟姐补锟姐）\r\n\tfwrite(&ImageW,sizeof(int),1,fdbm);\r\n\tfwrite(&ImageH,sizeof(int),1,fdbm);\r\n\tfseek(fbmp,-hangsize,SEEK_END);\r\n\tfor(i=0;i<ImageH;i++)\r\n\t{\r\n\t\tnow=0;\r\n\t\tfread(bmpline,hangsize,1,fbmp);\r\n\t\tfseek(fbmp,-hangsize*2,SEEK_CUR);\r\n\t\tfor(n=3;n>=0;n--)\t//每锟叫诧拷锟斤拷母锟轿伙拷锟斤拷锟斤拷锟斤拷锟斤拷锟?\r\n\t  // for(n=0;n<=3;n++)\r\n\t\t{\r\n\t\t\tfor(j=0;j<bmpcom;j++)\r\n\t\t\t{\r\n\t\t\t\tVbyte=0;\r\n\t\t\t\tfor(k=0;k<4;k++)\r\n\t\t\t\t{\r\n\t\t\t\t\tMyColor.val=bmpline[j*4+k];\r\n\t\t\t\t\tpixel[k*2]=color[MyColor.color.ch];\r\n\t\t\t\t\tpixel[k*2+1]=color[MyColor.color.cl];\r\n\t\t\t\t}\r\n\t\t\t\tfor(k=0;k<8;k++)\r\n\t\t\t\t{\r\n\t\t\t\t\tVbyte+=(pixel[k]>>n&1)<<(7-k);\r\n\t\t\t\t}\r\n\t\t\t\tdbmline[now++]=Vbyte;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfwrite(dbmline,hangsize,1,fdbm);\r\n\t}\r\n\tfclose(fdbm);\r\n\tfclose(fbmp);\r\n\treturn 0;\r\n}\r\n\r\nint show_dbm(int x,int y,char *dbm)\t//锟斤拷锟斤拷dbmp锟斤拷路锟斤拷,锟斤拷(x,y)锟斤拷锟酵计?(x锟斤拷为8锟侥憋拷锟斤拷)\r\n{\t\t\t\t\t\r\n\tint ImageW,ImageH,n,i,j;\r\n\tlong hangsize;\r\n\tFILE * fdbm;\r\n\tchar far * per;\r\n\t\r\n\tper=(char far *)0xA0000000L;\r\n\r\n\t\r\n//\t_VideoBusy=YES;\t\t\t//hanenv系统锟节碉拷锟斤拷示锟侥达拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷 \r\n\t\r\n\tif((fdbm=fopen(dbm,\"rb\"))==NULL)\r\n\t{\r\n\t\tprintf(\"%s\",dbm);\r\n\t\t//getchar();\r\n\t\tprintf(\"Open Error!\");\r\n\t\treturn 1;\r\n\t}\r\n\tfread(&ImageW,sizeof(int),1,fdbm);\r\n\tfread(&ImageH,sizeof(int),1,fdbm);\r\n  //\tprintf(\"%d %d\",ImageW,ImageH);\r\n\thangsize=(ImageW-1)/8;\r\n\tper=per+x/8+y*80;\r\n\tif((ImageH+y)>480)\tImageH=480-y; \t//VGAHI  640*480 \r\n\tfor(i=0;i<ImageH;i++)\r\n\t{\r\n\t\tfor(n=8;n>=1;n>>=1)\t//锟接碉拷锟斤拷位锟斤拷色平锟斤拷写锟斤拷锟斤拷0\r\n\t\t{\r\n\t\t\toutportb(0x3c4,2);\r\n\t\t\toutportb(0x3c5,n);\r\n\t\t\tfread(per,hangsize,1,fdbm);\r\n\t\t\tfseek(fdbm,1,SEEK_CUR);\r\n\t\t}\r\n\t   //\tfseek(fdbm,hangsize*2,SEEK_CUR);\r\n\t\tper+=80;\r\n\t}\r\n\tfclose(fdbm);\r\n\t\r\n//\t_VideoBusy=NO;\t\r\n\t\r\n\toutportb(0x3c5,0xf);\r\n\treturn 0;\r\n}\r\n\r\nvoid cir_bar(int x1,int y1,int x2,int y2,int color)\t//锟斤拷指锟斤拷位锟矫伙拷锟斤拷一锟斤拷圆锟角撅拷锟轿匡拷 \r\n{\r\n\tint w=x2-x1,h=y2-y1;\r\n\tsetcolor(color);\r\n    setlinestyle(SOLID_LINE,0,THICK_WIDTH);\r\n    ellipse(5+x1,10+y1,90,180,5,10);\r\n    line(0+x1,10+y1,0+x1,10+h-20+y1);\r\n    ellipse(5+x1,10+h-20+y1,180,270,5,10);\r\n    line(5+x1,0+y1,5+w-10+x1,0+y1);\r\n    ellipse(5+w-10+x1+1,10+y1,0,90,5,10);\r\n    line(w+x1,10+y1,w+x1,y2-10);\r\n    ellipse(w-5+x1+1,10+h-20+y1,270,360,5,10);\r\n    line(5+x1,h+y1,5+w-10+x1,h+y1);\r\n}\r\n\r\nvoid movetopage(int x1, int y1, int x2, int y2,int page1 ,int page2)\t//锟斤拷示页锟斤拷植锟酵硷拷锟斤拷锟斤拷荽锟斤拷洌拷锟斤拷锟斤拷锟斤拷辖锟斤拷锟斤拷昙帮拷锟斤拷辖锟斤拷锟斤拷辏拷锟絧age1锟狡讹拷锟斤拷page2\r\n{\t\r\n\tint per1, per2;\r\n\tint hangsize = (x2 - x1) / 8;\r\n\tint high = y2 - y1 + 1;\r\n\tregister int i, p1, p2;\r\n\tif (page1 == 0)\r\n\t{\r\n\t\tper2 = 0xA0000000L;\r\n\t\tper1 = 0xA8000000L;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tper1 = 0xA0000000L;\r\n\t\tper2 = 0xA8000000L;\r\n\t}\r\n\t\r\n\t\r\n\r\n\tper1 = per1 + (x1) / 8 + (y1 ) * 80;\r\n\tper2 = per2 + (x1) / 8 + (y1 ) * 80;\r\n\tfor (i = 0; i <high; i++)\t\t//锟斤拷锟斤拷锟斤拷频图锟斤拷 \r\n\t{\r\n\t\tfor (p1 = 8, p2 = 3; p1 >= 1; p1 >>= 1, p2--)\t//锟接碉拷锟斤拷位锟斤拷色平锟斤拷写锟斤拷锟斤拷0\r\n\t\t{\r\n\t\t\toutportb(0x3c4, 2);\t\t//锟斤拷色位锟斤拷写锟侥达拷锟斤拷 \r\n\t\t\toutportb(0x3c5, p1);\r\n\t\t\toutportb(0x3ce, 4);\t\t//锟斤拷色位锟斤拷锟斤拷拇锟斤拷锟? \r\n\t\t\toutportb(0x3cf, p2);\r\n\t\t\tif (page1 == 0)\r\n\t\t\t{\r\n\t\t\t\tquick_move_2(per2, per1, hangsize);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tquick_move_1(per2, per1, hangsize);\r\n\t\t\t}\r\n\t\t}\r\n\t\tper1 += 80;\r\n\t\tper2 += 80;\r\n\t}\r\n\toutportb(0x3cf,0);\t\t//锟街革拷锟斤拷锟斤拷 \r\n\toutportb(0x3c5,0xf);\r\n}\r\n\r\nvoid set_color(int color_no,int red,int green,int blue)\t//指锟斤拷锟斤拷色锟斤拷牛锟斤拷薷锟斤拷锟斤拷应锟斤拷rgb值 \r\n{\r\n\tif(color_no<16)\r\n\t{\r\n\t\t_AX=0x1007;\t//选锟斤拷10H锟斤拷示锟叫讹拷锟叫的碉拷7锟脚癸拷锟斤拷\r\n\t\t_BL=color_no;\r\n\t\tgeninterrupt(0x10);\r\n\t\tcolor_no=_BH; \r\n\t}\r\n\telse\r\n\t\tcolor_no = 0xff;\t//锟斤拷锟斤拷幕锟斤拷缘色指锟斤拷锟缴拷锟?255 \r\n\t\t\r\n\t//锟睫改碉拷色锟斤拷拇锟斤拷锟? \r\n\t_DH=red;\r\n\t_CH=green;\r\n\t_CL=blue;\r\n\t_BX=color_no;\r\n\t_AX=0x1010;\r\n\tgeninterrupt(0x10);\r\n\t\r\n\t//锟斤拷锟斤拷锟斤拷幕锟斤拷缘锟斤拷色\r\n\tif(color_no==0xff)\r\n\t{\r\n\t\t_BH=0xff;\r\n\t\t_AX=0x1001;\r\n\t\tgeninterrupt(0x10);\r\n\t} \r\n}\r\n\r\n/*锟斤拷为锟矫伙拷锟斤拷写锟斤拷支锟街匡拷锟窖爸凤拷锟斤拷锟斤拷荽锟斤拷浜拷锟斤拷锟斤拷锟斤拷浴锟絍GA页锟斤拷图锟斤拷锟斤拷锟斤拷锟狡讹拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷示效锟斤拷锟叫碉拷应锟矫★拷一锟斤拷*/\r\nint quick_move_1(int Start,int End,int Size)\t//Start为原锟斤拷锟阶碉拷址锟斤拷End为目锟斤拷位锟斤拷锟阶碉拷址 \t(1 to 0)\r\n{\r\n\tasm{\r\n\t\tpush es\r\n\t\tpush ds\r\n\t\tpush di\r\n\t\tpush si\r\n\t\tpush ax\r\n\t\tpush cx\r\n\t\tpush dx\r\n\t\tmov ax,0a800h\r\n\t\tmov ds,ax\r\n\t\tmov ax,Start\r\n\t\tmov si,ax\r\n\t\tmov ax,0a000h\r\n\t\tmov es,ax\r\n\t\tmov ax,End\r\n\t\tmov di,ax\r\n\t\tmov cx,Size\r\n\t\trep movsb\r\n\t\tpop dx\r\n\t\tpop cx\r\n\t\tpop ax\r\n\t\tpop si\r\n\t\tpop di\r\n\t\tpop ds\r\n\t\tpop es\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nint quick_move_2(int Start,int End,int Size)\t//Start为原锟斤拷锟阶碉拷址锟斤拷End为目锟斤拷位锟斤拷锟阶碉拷址 \t(0 to 1)\r\n{\r\n\tasm{\r\n\t\tpush es\r\n\t\tpush ds\r\n\t\tpush di\r\n\t\tpush si\r\n\t\tpush ax\r\n\t\tpush cx\r\n\t\tpush dx\r\n\t\tmov ax,0a000h\r\n\t\tmov ds,ax\r\n\t\tmov ax,Start\r\n\t\tmov si,ax\r\n\t\tmov ax,0a800h\r\n\t\tmov es,ax\r\n\t\tmov ax,End\r\n\t\tmov di,ax\r\n\t\tmov cx,Size\r\n\t\trep movsb\r\n\t\tpop dx\r\n\t\tpop cx\r\n\t\tpop ax\r\n\t\tpop si\r\n\t\tpop di\r\n\t\tpop ds\r\n\t\tpop es\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nvoid close_display()\t//锟截憋拷锟斤拷幕锟斤拷示\r\n{\r\n\t_BL=0x32;\r\n\t_AH=0x12;\r\n\t_AL=0x01;\r\n\tgeninterrupt(0x10);\r\n}\r\n\r\nvoid open_display()\t\t//锟斤拷锟斤拷幕锟斤拷示\r\n{\r\n\t_BL=0x32;\r\n\t_AH=0x12;\r\n\t_AL=0x00;\r\n\tgeninterrupt(0x10);\r\n} \r\n"
        }
    ]
}